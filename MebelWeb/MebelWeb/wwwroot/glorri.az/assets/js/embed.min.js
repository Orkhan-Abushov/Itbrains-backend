function getCompanyJobs(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;e(t)}},a.open("GET",jobapi+"company/"+t+"/shown-jobs-short",!0),a.send()}function getJobsData(t){JSON.parse(t)}function getJobData(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;e(t)}},a.open("GET",jobapi+"job-external/"+t+"?companyId="+currentCompanyId,!0),a.send()}function getTranslateData(t,e){t.split("-").length>0&&(t=t.split("-")[0]);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;e(t)}},a.open("GET",translationapi+"translations/"+t,!0),a.send()}function getCompanyLanguage(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText.toString().trim().substring(1,3);e(t)}},a.open("GET",companyapi+"company/"+t+"/lang",!0),a.send()}function getCompanyDomain(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText.toString().trim().substring(1,this.responseText.toString().trim().length-1);e(t)}},a.open("POST",companyapi+"company/link",!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(JSON.stringify({id:t}))}function translate(t,e){var a=_translations.findIndex(a=>t+e==a.key);return-1!==a?_translations[a].value:""}function formatDate(t){var e=new Date(t);return(e.getDate()>=10?e.getDate():"0"+e.getDate())+"/"+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+"/"+e.getFullYear().toString().substring(2)}function makeTemplate(t){var e=JSON.parse(t),a="";e.forEach((t,e)=>{var n=encodeURI(t.title.split("/").join("+")),s=t.titles.find(t=>t.language==currentLang)?t.titles.find(t=>t.language==currentLang).title:t.title,o=t.languages&&t.languages.find(t=>t.language==currentLang)&&2==t.languages.find(t=>t.language==currentLang).status?currentLang:t.language;a+='<div class="gmb_embed_job_box"><a href="https://glorri.az/'+o+"/"+companyDomain+"/"+t.id+"-"+n+'?source=Company" target="_blank"><div class="gmb_embed_job_box_header"><h3>'+s+'</h3></div><div class="gmb_embed_job_box_body clearfix"><span class="float-left"><i class="fa fa-map-marker" aria-hidden="true" style="margin-right: 3px;color: #444;"></i>'+t.location+'</span><span class="float-left" style="margin-left: 15px;"><i class="fa fa-clock-o" aria-hidden="true" style="margin-right: 3px;color: #444;"></i>'+formatDate(t.deadline)+'</span><span class="float-right">'+translate("job-types.",t.type)+"</span></div></a></div>"}),document.getElementById("gmb_embed_jobs").innerHTML=a;var n=document.getElementsByTagName("head")[0],s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css",s.media="all",n.appendChild(s),n=document.getElementsByTagName("head")[0],s=document.createElement("link"),s.rel="stylesheet",s.type="text/css",s.href="https://glorri.az/assets/css/embed.min.css",s.media="all",n.appendChild(s)}var companyDomain="",currentCompanyId="",currentLang="",_translations=(currentCompanyId="",[]),_jobs=[],monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],jobapi="https://atsapp.glorri.az/job-service/",companyapi="https://atsapp.glorri.az/company-service/",translationapi="https://atsapp.glorri.az/translation-service/",domElement=function(t){this.el=t,this.ready=function(t){this.el.addEventListener("DOMContentLoaded",t(),!1)}},gmb=function(t){var e=new domElement(t);return e},gmb_embed=function(t){currentCompanyId=t,getCompanyDomain(t,function(e){companyDomain=e,getCompanyLanguage(t,function(e){currentLang=document.getElementsByTagName("html")[0].lang?document.getElementsByTagName("html")[0].lang:e,getTranslateData(currentLang,function(e){_translations=JSON.parse(e),getCompanyJobs(t,function(t){makeTemplate(t)})})})})};